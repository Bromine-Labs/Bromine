---
import { Icon } from 'astro-icon/components';
---
<!-- Alpine.js script is kept as it might be used by other page elements or for basic, non-tab interactions -->
<script is:inline defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>

<div class="bg-gray-800 p-2 flex items-center space-x-2 rounded-lg">
  <button
            id="omnibar-back-btn"
            class="p-1.5 bg-gray-700 rounded-md text-gray-400 hover:bg-gray-600">
    <Icon name="tabler:arrow-left" class="w-5 h-5" />
  </button>

  <button id="omnibar-forward-btn" class="p-1.5 bg-gray-700 rounded-md text-gray-400 hover:bg-gray-600">
    <Icon name="tabler:arrow-right" class="w-5 h-5" />
  </button>

  <button id="omnibar-reload-btn" class="p-1.5 bg-gray-700 rounded-md text-gray-400 hover:bg-gray-600">
    <Icon name="tabler:reload" class="w-5 h-5" />
  </button>

  <div class="flex-grow flex items-center bg-gray-900 rounded-md px-3 py-1.5">
    <Icon name="tabler:search" class="w-5 h-5 text-gray-500 mr-2" />
    <form id="uv-form" class="flex-center w-full"> {/* Ensure form takes width */}
      <input spellcheck="false" autofocus id="uv-address" type="text" placeholder="Search the web freely" class="text-gray-300 bg-transparent w-full focus:outline-none" />
    </form>
  </div>

  <button class="p-1.5 bg-gray-700 rounded-md text-gray-400 hover:bg-gray-600">
    <Icon name="tabler:share-3" class="w-5 h-5" />
  </button>

  <button class="p-1.5 bg-gray-700 rounded-md text-gray-400 hover:bg-gray-600">
    <Icon name="tabler:bookmark" class="w-5 h-5" />
  </button>

  <!-- "New Tab" button has been removed -->
</div>

<script>
  // tabStore import, getActiveIframe, updateOmnibarAddressBar, and tab-related event listeners removed.

  document.addEventListener('DOMContentLoaded', () => {
    const backButton = document.getElementById('omnibar-back-btn');
    const forwardButton = document.getElementById('omnibar-forward-btn');
    const reloadButton = document.getElementById('omnibar-reload-btn');
    // The #uv-address input is now primarily user-driven and read by Lethal.astro

    if (backButton) {
      backButton.addEventListener('click', () => {
        const iframe = document.getElementById('uv-frame'); // Target static iframe
        if (iframe && iframe.contentWindow) {
          iframe.contentWindow.history.back();
        }
      });
    }

    if (forwardButton) {
      forwardButton.addEventListener('click', () => {
        const iframe = document.getElementById('uv-frame'); // Target static iframe
        if (iframe && iframe.contentWindow) {
          iframe.contentWindow.history.forward();
        }
      });
    }

    if (reloadButton) {
      reloadButton.addEventListener('click', () => {
        const iframe = document.getElementById('uv-frame'); // Target static iframe
        if (iframe && iframe.contentWindow) {
          iframe.contentWindow.location.reload();
        }
      });
    }
  });
</script>
